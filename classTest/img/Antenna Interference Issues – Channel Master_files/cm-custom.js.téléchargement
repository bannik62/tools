$(document).ready(function(){console.log("cm-custom v1.3");var siteHost=window.location.hostname,isProduction=!1,phpHostName="https://apps.channelmastertv.com/",phpFileName="",thisPageURL=window.location.href.toLowerCase();siteHost=="staging-channel-master.myshopify.com"?isProduction=!1:isProduction=!0,thisPageURL.indexOf("/challenge")>-1&&$("#shopify-section-popup").hide(),$('[rel="open-newsletter"]').click(function(event){$(".cc-popup-newsletter").addClass("cc-popup--visible")}),$(".search-form-main .button-overlay").click(function(event){var isOpen=$(".search-form-main").hasClass("open");isOpen||$(".search-form-main").addClass("open")}),$('[rel="submitToolForm"]').click(function(event){event.preventDefault();var formAddress=$("#fieldToolAddr").val(),formZip=$("#fieldToolZip").val(),formType=$(this).attr("data-form-type"),zipValid=!0,zipIsnum=/^\d+$/.test(formZip);typeof formZip=="undefined"||formZip==""||formZip.length!=5?zipValid=!1:zipIsnum||(zipValid=!1),zipValid?redirectZip(formZip,formAddress,formType):($("#fieldToolZip").addClass("error"),$("#zipToolForm .form-error").show())});function redirectZip(zip,address,pagetype){var siteHost2=window.location.hostname,isProduction2=!1,baseURL="https://www.channelmaster.com/",phpHostName2="https://apps.channelmastertv.com/",pageHandle="free-tv-channels";siteHost2=="staging-channel-master.myshopify.com"?(isProduction2=!1,baseURL="https://staging-channel-master.myshopify.com/"):isProduction2=!0,pagetype=="tv-guide"&&(pageHandle="free-tv-guide-listings"),pagetype=="map"&&(pageHandle="tv-antenna-map");var targetURL=baseURL+"pages/"+pageHandle,postURL2=phpHostName2+"get-city-dev.php";isProduction2&&(postURL2=phpHostName2+"get-city.php"),$.ajax({type:"GET",url:postURL2,data:{zip:zip},success:function(response){response.handle!=""?(pageURL=targetURL+"-"+response.handle,address&&(postAddressCMDB(zip,address,pagetype),pageURL=pageURL+"#address="+encodeURIComponent(address))):(pageURL=targetURL+"#nohandle=true&zip="+zip,address&&(postAddressCMDB(zip,address,pagetype),pageURL=pageURL+"&address="+encodeURIComponent(address))),window.location=pageURL},error:function(jqXHR,textStatus,errorThrown){},complete:function(response){}})}function postAddressCMDB(zip,address,source){var siteHost2=window.location.hostname,postURL2="";siteHost2=="staging-channel-master.myshopify.com"?postURL2="https://apps.channelmastertv.com/cm-database-dev.php":postURL2="https://apps.channelmastertv.com/cm-database.php",$.ajax({type:"POST",url:postURL2,data:{UserAddress:address,UserZip:zip,UserSource:source,RequestType:"save-address"},success:function(response){},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR.responseText)},complete:function(response){}})}if($("#fieldToolZip").focus(function(){$("#fieldToolZip").removeClass("error"),$("#zipToolForm .form-error").hide()}),$('[rel="video-modal-open"]').click(function(event){event.preventDefault();var videoID=$(this).attr("data-videoid");location.hash="video",$("#video-modal").show(),$("#video-modal iframe").attr("src","//www.youtube.com/embed/"+videoID+"?autoplay=1&autohide=1&wmode=transparent&controls=1&enablejsapi=1&modestbranding=1&playsinline=1&rel=0").attr("allow","autoplay"),$("body").css("overflow","hidden").css("position","relative")}),$('[rel="video-modal-close"]').click(function(event){$("#video-modal").hide(),$("#video-modal iframe").attr("src",""),$("body").css("overflow","visible").css("position","static")}),$("body").hasClass("template-404")&&(postURL=phpHostName+"cm-database-dev.php",isProduction&&(postURL=phpHostName+"cm-database.php"),$.ajax({type:"POST",url:postURL,data:{trackurl:thisPageURL,RequestType:"track-404"},success:function(response){},error:function(jqXHR,textStatus,errorThrown){},complete:function(response){}})),$("body").hasClass("template-product")){var stickyBar2=function(){var y=$(document).scrollTop(),t=$(".product-detail__form__action").offset().top;y>t?$(".product-detail__nav").addClass("product-detail__nav-sticky"):$(".product-detail__nav").removeClass("product-detail__nav-sticky")},stickyBar=stickyBar2,prod_shortDesc=$("#product-short-description").html(),prod_code=$('input[name="ProductCode"]').val(),prod_group=$(".options-group");prod_shortDesc&&$(".top-description").html("<p>"+prod_shortDesc+"</p>"),prod_group&&$("#optionGroupLinks").html(prod_group).show();var shippingCost=$("#shippingCost").text();$('[rel="scrollto-reviews"]').click(function(event){event.preventDefault(),scrollToID("#shopify-product-reviews")}),$(".product-detail__nav a").click(function(event){event.preventDefault();var link=$(this).attr("href");scrollToID(link)}),stickyBar2(),$(document).scroll(function(){stickyBar2()}),$('[rel="addToCart"]').click(function(event){event.preventDefault(),$(".cart-button-main").click()}),$("#restock-alert-form").submit(function(e){e.preventDefault();var restockemail=$("#restock-alert-form #email").val(),restockproduct=$("#restock-alert-form #product").val(),restockhp=$("#restock-alert-form #hp-restock-alert-form").val(),error=0,errorMessage2="",postURL2=phpHostName+"cm-database-dev.php";isProduction&&(postURL2=phpHostName+"cm-database.php"),error>0?formMessage("restock-alert-form","error",errorMessage2):(formMessage("restock-alert-form","",""),$.ajax({type:"POST",url:postURL2,data:{RequestType:"stock-reminder",email:restockemail,product:restockproduct,hp:restockhp},success:function(response){formMessage("restock-alert-form","success","You will be notified when this product is back in stock."),$("#restock-alert-form #email").val("")},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR.responseText),formMessage("restock-alert-form","error","There is an issue, please try again later. (code: "+jqXHR.responseText+")")},complete:function(response){}}))})}});var createCookie=function(name,value,days){var expires;if(days){var date=new Date;date.setTime(date.getTime()+days*24*60*60*1e3),expires="; expires="+date.toGMTString()}else expires="";document.cookie=name+"="+value+expires+"; path=/"};function getCookie(c_name){return document.cookie.length>0&&(c_start=document.cookie.indexOf(c_name+"="),c_start!=-1)?(c_start=c_start+c_name.length+1,c_end=document.cookie.indexOf(";",c_start),c_end==-1&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""}function DisplayFormValues(formid){var str="";return $("#"+formid+" *").filter(":input").each(function(){var thisType=$(this).attr("type");thisType=="text"||thisType=="tel"||thisType=="email"?str+=$("#"+formid+' label[for="'+$(this).attr("id")+'"]').text()+": "+$(this).val()+"<br>":thisType=="checkbox"&&$(this).is(":checked")&&(str+=$(this).attr("name")+": "+$(this).attr("id")+"<br>")}),str}function sendZendeskTicket(url,vars){jQuery.ajax({url:url,data:vars,type:"GET",success:function(resultData){$("#DealerApplication").html('<div class="success"><p><strong>Thank you for applying to be an authorized Channel Master dealer.</strong> We will review the application and notify you within two (2) business days regarding approval.  If you are approved, we will contact you to gather your tax (if applicable) and payment information.</p></div>')},error:function(jqXHR,textStatus,errorThrown){loadDealerError("Post Error. Please try again. (errorcode: zendeskticket)")},timeout:12e4})}function loadDealerError(message){errorMessage="",$("#DealerApplication").removeClass("loading"),$("#DealerApplication").prepend('<div class="form-error">'+message+"</div>"),$("#DealerApplication").addClass("error"),$(".form-error").show(),$("#dealerFormButton").attr("disabled",!1),scrollToID("#DealerApplication")}function scrollToID(thisID){var aTagName=thisID,aTag=$(aTagName).offset(),aTagTop=aTag.top,aTagAddOffset=40,aTagOffset=aTagTop-aTagAddOffset;$("html,body").animate({scrollTop:aTagOffset},"slow")}function validateEmail($email){var emailReg=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,6})?$/;return emailReg.test($email)}function validatePhone(input){var phone=/^\(?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})$/;return phone.test(input)}function formMessage($formid,$type,$message){$message==""?$("#"+$formid+" .status-message").hide():$("#"+$formid+" .status-message").addClass("message-"+$type).text($message).show()}
//# sourceMappingURL=/cdn/shop/t/4/assets/cm-custom.js.map?v=112397345362380899551675372441
